{"version":3,"sources":["../../src/cloud-code/Parse.Cloud.js"],"names":["triggers","getClassName","parseClass","className","ParseCloud","define","functionName","handler","validationHandler","addFunction","Parse","applicationId","job","addJob","beforeSave","addTrigger","Types","beforeDelete","afterSave","afterDelete","beforeFind","afterFind","onLiveQueryEvent","addLiveQueryEventHandler","_removeAllHooks","_unregisterAll","useMasterKey","console","warn","httpRequest","require","module","exports"],"mappings":";;AAAA;;AACA;;IAAYA,Q;;;;AAEZ,SAASC,YAAT,CAAsBC,UAAtB,EAAkC;AAChC,MAAIA,cAAcA,WAAWC,SAA7B,EAAwC;AACtC,WAAOD,WAAWC,SAAlB;AACD;AACD,SAAOD,UAAP;AACD;;AAED,IAAIE,aAAa,EAAjB;AACAA,WAAWC,MAAX,GAAoB,UAASC,YAAT,EAAuBC,OAAvB,EAAgCC,iBAAhC,EAAmD;AACrER,WAASS,WAAT,CAAqBH,YAArB,EAAmCC,OAAnC,EAA4CC,iBAA5C,EAA+DE,YAAMC,aAArE;AACD,CAFD;;AAIAP,WAAWQ,GAAX,GAAiB,UAASN,YAAT,EAAuBC,OAAvB,EAAgC;AAC/CP,WAASa,MAAT,CAAgBP,YAAhB,EAA8BC,OAA9B,EAAuCG,YAAMC,aAA7C;AACD,CAFD;;AAIAP,WAAWU,UAAX,GAAwB,UAASZ,UAAT,EAAqBK,OAArB,EAA8B;AACpD,MAAIJ,YAAYF,aAAaC,UAAb,CAAhB;AACAF,WAASe,UAAT,CAAoBf,SAASgB,KAAT,CAAeF,UAAnC,EAA+CX,SAA/C,EAA0DI,OAA1D,EAAmEG,YAAMC,aAAzE;AACD,CAHD;;AAKAP,WAAWa,YAAX,GAA0B,UAASf,UAAT,EAAqBK,OAArB,EAA8B;AACtD,MAAIJ,YAAYF,aAAaC,UAAb,CAAhB;AACAF,WAASe,UAAT,CAAoBf,SAASgB,KAAT,CAAeC,YAAnC,EAAiDd,SAAjD,EAA4DI,OAA5D,EAAqEG,YAAMC,aAA3E;AACD,CAHD;;AAKAP,WAAWc,SAAX,GAAuB,UAAShB,UAAT,EAAqBK,OAArB,EAA8B;AACnD,MAAIJ,YAAYF,aAAaC,UAAb,CAAhB;AACAF,WAASe,UAAT,CAAoBf,SAASgB,KAAT,CAAeE,SAAnC,EAA8Cf,SAA9C,EAAyDI,OAAzD,EAAkEG,YAAMC,aAAxE;AACD,CAHD;;AAKAP,WAAWe,WAAX,GAAyB,UAASjB,UAAT,EAAqBK,OAArB,EAA8B;AACrD,MAAIJ,YAAYF,aAAaC,UAAb,CAAhB;AACAF,WAASe,UAAT,CAAoBf,SAASgB,KAAT,CAAeG,WAAnC,EAAgDhB,SAAhD,EAA2DI,OAA3D,EAAoEG,YAAMC,aAA1E;AACD,CAHD;;AAKAP,WAAWgB,UAAX,GAAwB,UAASlB,UAAT,EAAqBK,OAArB,EAA8B;AACpD,MAAIJ,YAAYF,aAAaC,UAAb,CAAhB;AACAF,WAASe,UAAT,CAAoBf,SAASgB,KAAT,CAAeI,UAAnC,EAA+CjB,SAA/C,EAA0DI,OAA1D,EAAmEG,YAAMC,aAAzE;AACD,CAHD;;AAKAP,WAAWiB,SAAX,GAAuB,UAASnB,UAAT,EAAqBK,OAArB,EAA8B;AACnD,QAAMJ,YAAYF,aAAaC,UAAb,CAAlB;AACAF,WAASe,UAAT,CAAoBf,SAASgB,KAAT,CAAeK,SAAnC,EAA8ClB,SAA9C,EAAyDI,OAAzD,EAAkEG,YAAMC,aAAxE;AACD,CAHD;;AAKAP,WAAWkB,gBAAX,GAA8B,UAASf,OAAT,EAAkB;AAC9CP,WAASuB,wBAAT,CAAkChB,OAAlC,EAA2CG,YAAMC,aAAjD;AACD,CAFD;;AAIAP,WAAWoB,eAAX,GAA6B,MAAM;AACjCxB,WAASyB,cAAT;AACD,CAFD;;AAIArB,WAAWsB,YAAX,GAA0B,MAAM;AAC9B;AACAC,UAAQC,IAAR,CAAa,4NAAb;AACD,CAHD;;AAKAxB,WAAWyB,WAAX,GAAyBC,QAAQ,eAAR,CAAzB;;AAEAC,OAAOC,OAAP,GAAiB5B,UAAjB","file":"Parse.Cloud.js","sourcesContent":["import { Parse }     from 'parse/node';\nimport * as triggers from '../triggers';\n\nfunction getClassName(parseClass) {\n  if (parseClass && parseClass.className) {\n    return parseClass.className;\n  }\n  return parseClass;\n}\n\nvar ParseCloud = {};\nParseCloud.define = function(functionName, handler, validationHandler) {\n  triggers.addFunction(functionName, handler, validationHandler, Parse.applicationId);\n};\n\nParseCloud.job = function(functionName, handler) {\n  triggers.addJob(functionName, handler, Parse.applicationId);\n};\n\nParseCloud.beforeSave = function(parseClass, handler) {\n  var className = getClassName(parseClass);\n  triggers.addTrigger(triggers.Types.beforeSave, className, handler, Parse.applicationId);\n};\n\nParseCloud.beforeDelete = function(parseClass, handler) {\n  var className = getClassName(parseClass);\n  triggers.addTrigger(triggers.Types.beforeDelete, className, handler, Parse.applicationId);\n};\n\nParseCloud.afterSave = function(parseClass, handler) {\n  var className = getClassName(parseClass);\n  triggers.addTrigger(triggers.Types.afterSave, className, handler, Parse.applicationId);\n};\n\nParseCloud.afterDelete = function(parseClass, handler) {\n  var className = getClassName(parseClass);\n  triggers.addTrigger(triggers.Types.afterDelete, className, handler, Parse.applicationId);\n};\n\nParseCloud.beforeFind = function(parseClass, handler) {\n  var className = getClassName(parseClass);\n  triggers.addTrigger(triggers.Types.beforeFind, className, handler, Parse.applicationId);\n};\n\nParseCloud.afterFind = function(parseClass, handler) {\n  const className = getClassName(parseClass);\n  triggers.addTrigger(triggers.Types.afterFind, className, handler, Parse.applicationId);\n};\n\nParseCloud.onLiveQueryEvent = function(handler) {\n  triggers.addLiveQueryEventHandler(handler, Parse.applicationId);\n};\n\nParseCloud._removeAllHooks = () => {\n  triggers._unregisterAll();\n}\n\nParseCloud.useMasterKey = () => {\n  // eslint-disable-next-line\n  console.warn(\"Parse.Cloud.useMasterKey is deprecated (and has no effect anymore) on parse-server, please refer to the cloud code migration notes: http://docs.parseplatform.org/parse-server/guide/#master-key-must-be-passed-explicitly\")\n}\n\nParseCloud.httpRequest = require(\"./httpRequest\");\n\nmodule.exports = ParseCloud;\n"]}