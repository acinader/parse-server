{"version":3,"sources":["../src/ParseMessageQueue.js"],"names":["ParseMessageQueue","createPublisher","config","adapter","messageQueueAdapter","EventEmitterMQ","createSubscriber"],"mappings":";;;;;;;AAAA;;AACA;;AAIA,MAAMA,oBAAoB,EAA1B;;AAEAA,kBAAkBC,eAAlB,GAAoC,UAASC,MAAT,EAA2B;AAC7D,QAAMC,UAAU,gCAAYD,OAAOE,mBAAnB,EAAwCC,8BAAxC,EAAwDH,MAAxD,CAAhB;AACA,MAAI,OAAOC,QAAQF,eAAf,KAAmC,UAAvC,EAAmD;AACjD,UAAM,6CAAN;AACD;AACD,SAAOE,QAAQF,eAAR,CAAwBC,MAAxB,CAAP;AACD,CAND;;AAQAF,kBAAkBM,gBAAlB,GAAqC,UAASJ,MAAT,EAA4B;AAC/D,QAAMC,UAAU,gCAAYD,OAAOE,mBAAnB,EAAwCC,8BAAxC,EAAwDH,MAAxD,CAAhB;AACA,MAAI,OAAOC,QAAQG,gBAAf,KAAoC,UAAxC,EAAoD;AAClD,UAAM,oDAAN;AACD;AACD,SAAOH,QAAQG,gBAAR,CAAyBJ,MAAzB,CAAP;AACD,CAND;;QASEF,iB,GAAAA,iB","file":"ParseMessageQueue.js","sourcesContent":["import { loadAdapter } from './Adapters/AdapterLoader';\nimport {\n  EventEmitterMQ\n} from './Adapters/MessageQueue/EventEmitterMQ';\n\nconst ParseMessageQueue = {};\n\nParseMessageQueue.createPublisher = function(config: any): any {\n  const adapter = loadAdapter(config.messageQueueAdapter, EventEmitterMQ, config);\n  if (typeof adapter.createPublisher !== 'function') {\n    throw 'pubSubAdapter should have createPublisher()';\n  }\n  return adapter.createPublisher(config);\n}\n\nParseMessageQueue.createSubscriber = function(config: any): void {\n  const adapter = loadAdapter(config.messageQueueAdapter, EventEmitterMQ, config)\n  if (typeof adapter.createSubscriber !== 'function') {\n    throw 'messageQueueAdapter should have createSubscriber()';\n  }\n  return adapter.createSubscriber(config);\n}\n\nexport {\n  ParseMessageQueue\n}\n"]}